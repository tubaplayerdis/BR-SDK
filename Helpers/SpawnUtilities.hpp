//TODO: Define inline function relating to all the macros. copy from BRSD